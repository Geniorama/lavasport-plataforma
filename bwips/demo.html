<script type="text/javascript" src="dist/bwip-js-min.js"></script>
<script type="text/javascript" src="lib/symdesc.js"></script>
<script type="text/javascript" src="lib/inconsolata.js"></script>

<div id="content">
	<canvas id="canvas" width=1 height=1 style="border:1px solid #fff"></canvas>
	<div id="output" style="white-space:pre"></div>
	<canvas id="canvas2" width=1 height=1 style="border:1px solid #fff"></canvas>
	<div id="output2" style="white-space:pre"></div>
	<canvas id="canvas3" width=1 height=1 style="border:1px solid #fff"></canvas>
	<div id="output3" style="white-space:pre"></div>
	<canvas id="canvas4" width=1 height=1 style="border:1px solid #fff"></canvas>
	<div id="output4" style="white-space:pre"></div>
</div>
<script type="text/javascript">
	bwipjs.loadFont("Inconsolata", 95, 105, Inconsolata);

	function render() {


		// Clear the page


		var canvas = document.getElementById('canvas');
		var canvas2 = document.getElementById('canvas2');
		var canvas3 = document.getElementById('canvas3');
		var canvas4 = document.getElementById('canvas4');

		options = 'includetext';
		let opts = {};
		let aopts = options.split(' ');
		for (let i = 0; i < aopts.length; i++) {
			if (!aopts[i]) {
				continue;
			}
			var eq = aopts[i].indexOf('=');
			if (eq == -1) {
				opts[aopts[i]] = true;
			} else {
				opts[aopts[i].substr(0, eq)] = aopts[i].substr(eq + 1);
			}
		}
		// Finish up the options
		opts.text = '(415)7709998014350(8020)0000001000354191(390)000392500(96)20190830';
		opts.bcid = symdesc['gs1-128'].sym;
		opts.scaleX = 2;
		opts.scaleY = 2;
		opts.rotate = 'N';


		// Draw the bar code to the canvas
		try {
			let ts0 = new Date;
			bwipjs.toCanvas(canvas, opts);
		} catch (e) {
			// Watch for BWIPP generated raiseerror's.
			var msg = ('' + e).trim();
			if (msg.indexOf("bwipp.") >= 0) {
				document.getElementById('output').textContent = msg;
			} else if (e.stack) {
				// GC includes the message in the stack.  FF does not.
				document.getElementById('output').textContent =
					(e.stack.indexOf(msg) == -1 ? msg + '\n' : '') + e.stack;
			} else {
				document.getElementById('output').textContent = msg;
			}
			return;
		}

		opts.text = '(415)7709998014350(8020)0000001000354191(390)000952500(96)20200830';

		try {
			let ts0 = new Date;
			bwipjs.toCanvas(canvas2, opts);
		} catch (e) {
			// Watch for BWIPP generated raiseerror's.
			var msg = ('' + e).trim();
			if (msg.indexOf("bwipp.") >= 0) {
				document.getElementById('output').textContent = msg;
			} else if (e.stack) {
				// GC includes the message in the stack.  FF does not.
				document.getElementById('output').textContent =
					(e.stack.indexOf(msg) == -1 ? msg + '\n' : '') + e.stack;
			} else {
				document.getElementById('output').textContent = msg;
			}
			return;
		}

		opts.text = '(415)7709998014350(8020)0000001000354191(390)000952500(96)20200830';
		try {
			let ts0 = new Date;
			bwipjs.toCanvas(canvas3, opts);
		} catch (e) {
			// Watch for BWIPP generated raiseerror's.
			var msg = ('' + e).trim();
			if (msg.indexOf("bwipp.") >= 0) {
				document.getElementById('output').textContent = msg;
			} else if (e.stack) {
				// GC includes the message in the stack.  FF does not.
				document.getElementById('output').textContent =
					(e.stack.indexOf(msg) == -1 ? msg + '\n' : '') + e.stack;
			} else {
				document.getElementById('output').textContent = msg;
			}
			return;
		}

		opts.text = '(415)7709998014350(8020)0000001000354191(390)000952500(96)20200830';
		try {
			let ts0 = new Date;
			bwipjs.toCanvas(canvas4, opts);
		} catch (e) {
			// Watch for BWIPP generated raiseerror's.
			var msg = ('' + e).trim();
			if (msg.indexOf("bwipp.") >= 0) {
				document.getElementById('output').textContent = msg;
			} else if (e.stack) {
				// GC includes the message in the stack.  FF does not.
				document.getElementById('output').textContent =
					(e.stack.indexOf(msg) == -1 ? msg + '\n' : '') + e.stack;
			} else {
				document.getElementById('output').textContent = msg;
			}
			return;
		}


	}

	render();
</script>